

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installation &mdash; ch_frb_l1  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Help! My pipeline is broken" href="help_my_pipeline_is_broken.html" />
    <link rel="prev" title="CHIMEFRB L1 pipeline" href="index.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> ch_frb_l1
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="#compiling-bitshuffle">Compiling bitshuffle</a></li>
<li class="toctree-l2"><a class="reference internal" href="#compiling-the-core-packages">Compiling the core packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="#quick-install-frb-analysis">Quick install: frb-analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="#quick-install-frb1">Quick install: frb1</a></li>
<li class="toctree-l2"><a class="reference internal" href="#quick-install-compute-node">Quick install: compute node</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="help_my_pipeline_is_broken.html">Help! My pipeline is broken</a></li>
<li class="toctree-l1"><a class="reference internal" href="offline_analysis_todo.html">Offline Analysis TODO</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_offline_analysis_scripts/index.html">Example Offline Analysis Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="drao/index.html">DRAO computing environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="server/index.html">The Real-Time L1 Server</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ch_frb_l1</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Installation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<p>Here are installation instructions for the CHIMEFRB L1 code, consisting of the following git repositories.</p>
<p>Depending on what you’re doing, you may only need a subset of these!
In particular, the modules marked “frb1 only” include hardcoded pathnames on
<cite>frb1.physics.mcgill.ca</cite>, and probably won’t be useful on other machines.</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="https://github.com/kiyo-masui/bitshuffle">kiyo-masui/bitshuffle</a>:
“bitwise” compression algorithm used throughout CHIME.</li>
<li><a class="reference external" href="https://github.com/kmsmith137/simd_helpers">kmsmith137/simd_helpers</a>:
header-only library for writing x86 assembly language kernels.</li>
<li><a class="reference external" href="https://github.com/kmsmith137/pyclops">kmsmith137/pyclops</a>:
some hacks for writing hybrid C++/python code.</li>
<li><a class="reference external" href="https://github.com/kmsmith137/rf_kernels">kmsmith137/rf_kernels</a>:
fast C++/assembly kernels for RFI removal and related tasks.</li>
<li><a class="reference external" href="https://github.com/kmsmith137/sp_hdf5">kmsmith137/sp_hdf5</a>:
header-only library for reading/writing hdf5 from C++.</li>
<li><a class="reference external" href="https://github.com/kmsmith137/simpulse">kmsmith137/simpulse</a>:
library for simulating FRB’s and pulsars.</li>
<li><a class="reference external" href="https://github.com/CHIMEFRB/ch_frb_io">CHIMEFRB/ch_frb_io</a>:
networking code, CHIME-specific file formats.</li>
<li><a class="reference external" href="https://github.com/CHIMEFRB/bonsai">CHIMEFRB/bonsai</a>:
fast tree dedispersion on x86.</li>
<li><a class="reference external" href="https://github.com/kmsmith137/rf_pipelines">kmsmith137/rf_pipelines</a>:
plugin-based radio astronomy pipelines.
(Note: this repo now includes the web viewer code which was previously
in <a class="reference external" href="https://github.com/mburhanpurkar/web_viewer">mburhanpurkar/web_viewer</a>.)</li>
<li><a class="reference external" href="https://github.com/mrafieir/ch_frb_rfi">mrafieir/ch_frb_rfi</a>:
scritping framework for RFI removal and offline L1 analysis.  <cite>(frb1 only)</cite></li>
<li><a class="reference external" href="https://github.com/kmsmith137/ch_frb_l1">kmsmith137/ch_frb_l1</a>:
toplevel repo, whose documentation you’re reading right now.</li>
</ul>
</div></blockquote>
<p><strong>Warning:</strong> one problem with our current build system is that it doesn’t track dependencies
between repositories.  So for example, if you update bonsai and do ‘make install’, you
should rebuild everything which depends on bonsai (for example rf_pipelines) from scratch.
Otherwise you can get unpredictable results, such as segfaults.</p>
<p><strong>Important:</strong> In the previous paragraph, “rebuild from scratch” means <code class="docutils literal"><span class="pre">make</span> <span class="pre">clean;</span> <span class="pre">make</span> <span class="pre">all</span> <span class="pre">install</span></code>.
Rebuilding with <cite>make all install</cite> wouldn’t be enough, since dependencies aren’t tracked between repositories!</p>
<p>For this reason, it’s easier to end up with a broken pipeline than you might think.  If you get into trouble,
see the (<a class="reference internal" href="help_my_pipeline_is_broken.html#help-my-pipeline-is-broken"><span class="std std-ref">Help! My pipeline is broken</span></a>) section below.</p>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>If you’re compiling on one of the CHIME machines, or Kendrick’s desktop (orangutan),
then all of these should already be installed, and you can skip to the next step (<a class="reference internal" href="#compiling-bitshuffle">Compiling bitshuffle</a>).</p>
<blockquote>
<div><ul>
<li><p class="first">Python-centric things which can be installed painlessly with <cite>pip</cite>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">numpy</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">scipy</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">matplotlib</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">Pillow</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">h5py</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">Cython</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">zmq</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">msgpack</span><span class="o">-</span><span class="n">python</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">pyyaml</span>
</pre></div>
</div>
<p>To install without root privileges, do <code class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">--user</span></code>.
To upgrade a previous pip install, do <code class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">--upgrade</span></code>.</p>
<p>You might need to upgrade your cython, since bonsai currently requires a very
recent cython (I know that cython 0.24 works, and cython 0.20 is too old).</p>
</li>
<li><p class="first">libhdf5.</p>
<p><strong>Currently, the pipeline requires HDF5 version 1.8.12 or later,
but does not work with version 1.10.x.  This will be fixed eventually!</strong></p>
<p>In the meantime, for instructions for installing a version of HDF5
which is neither too old nor too new, please see <a class="reference external" href="https://github.com/kmsmith137/sp_hdf5/blob/master/README.md">kmsmith137/sp_hdf5/README.md</a>.</p>
</li>
<li><p class="first">lz4.</p>
<blockquote>
<div><ul class="simple">
<li>osx one-liner: <code class="docutils literal"><span class="pre">brew</span> <span class="pre">install</span> <span class="pre">lz4</span></code></li>
<li>centos one-liner: <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">yum</span> <span class="pre">install</span> <span class="pre">lz4-devel</span></code></li>
<li>ubuntu one-liner: <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">liblz4-dev</span></code></li>
</ul>
</div></blockquote>
</li>
<li><p class="first">libcurl.</p>
<blockquote>
<div><ul class="simple">
<li>ubuntu one-liner: <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">libcurl4-openssl-dev</span></code></li>
</ul>
</div></blockquote>
</li>
<li><p class="first">msgpack.</p>
<blockquote>
<div><ul>
<li><p class="first">osx one-liner: <code class="docutils literal"><span class="pre">brew</span> <span class="pre">install</span> <span class="pre">msgpack</span></code></p>
</li>
<li><p class="first">centos one-liner: <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">yum</span> <span class="pre">install</span> <span class="pre">msgpack-devel.x86_64</span></code></p>
</li>
<li><p class="first">ubuntu: don’t install the apt-get version, it is too old!  (e.g. it is missing <cite>/usr/include/msgpack/fbuffer.hpp</cite>).
Instead you should build from scratch, see next bullet point.</p>
</li>
<li><p class="first">Building from scratch.  This is easy because we only use the msgpack headers, not the compiled library.
You can either follow Kendrick’s procedure for building from scratch:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">msgpack</span><span class="o">/</span><span class="n">msgpack</span><span class="o">-</span><span class="n">c</span>
<span class="n">sudo</span> <span class="n">cp</span> <span class="o">-</span><span class="n">r</span> <span class="n">msgpack</span><span class="o">-</span><span class="n">c</span><span class="o">/</span><span class="n">include</span><span class="o">/*</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">include</span>
</pre></div>
</div>
<p>or Dustin’s procedure for building from scratch: (1) download the <a class="reference external" href="https://github.com/msgpack/msgpack-c/releases/download/cpp-2.1.0/msgpack-2.1.0.tar.gz">msgpack source package</a>,
(2) extract it and add its subdirectory <code class="docutils literal"><span class="pre">msgpack-2.1.0/include</span></code> into the include path.</p>
</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">zeromq and cppzmq.</p>
<ul>
<li><p class="first">centos one-liner: <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">yum</span> <span class="pre">install</span> <span class="pre">cppzmq-devel.x86_64</span></code></p>
</li>
<li><p class="first">ubuntu: don’t use the apt-get packages, they are too old!.  You’ll need to build both zeromq and cppzmq from scratch, see bullet point below.</p>
</li>
<li><p class="first">osx: zeromq can be installed with <code class="docutils literal"><span class="pre">brew</span> <span class="pre">install</span> <span class="pre">zeromq</span></code>, but you’ll need to build cppzmq from scratch, see bullet point below.</p>
</li>
<li><p class="first">Building zmq from scratch.  Download from zeromq.org, and then do:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">configure</span> <span class="o">--</span><span class="n">prefix</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span>
<span class="n">make</span>
<span class="n">sudo</span> <span class="n">make</span> <span class="n">install</span>
</pre></div>
</div>
</li>
<li><p class="first">Building cppzmq from scratch.  Since it’s a header-only library with two source files, I just ignored the build system and did:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">zeromq</span><span class="o">/</span><span class="n">cppzmq</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">cppzmq</span>
<span class="n">sudo</span> <span class="n">cp</span> <span class="n">zmq</span><span class="o">.</span><span class="n">hpp</span> <span class="n">zmq_addon</span><span class="o">.</span><span class="n">hpp</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">include</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p class="first"><a class="reference external" href="https://github.com/open-source-parsers/jsoncpp">jsoncpp</a></p>
<ul>
<li><p class="first">osx one-liner: <code class="docutils literal"><span class="pre">brew</span> <span class="pre">install</span> <span class="pre">jsoncpp</span></code></p>
</li>
<li><p class="first">centos one-liner: <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">yum</span> <span class="pre">install</span> <span class="pre">jsoncpp-devel</span></code></p>
</li>
<li><p class="first">ubuntu one-liner: <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">libjsoncpp-dev</span></code></p>
</li>
<li><p class="first">Building jsoncpp from scratch is a pain, but the following procedure worked for me:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>git clone https://github.com/open-source-parsers/jsoncpp
mkdir -p build/debug
cd build/debug
cmake -DCMAKE_INSTALL_PREFIX=$HOME -DCMAKE_CXX_FLAGS=-fPIC -DCMAKE_C_FLAGS=-fPIC -DCMAKE_BUILD_TYPE=debug -G &quot;Unix Makefiles&quot; ../..
make install
</pre></div>
</div>
</li>
</ul>
</li>
</ul>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="https://github.com/jbeder/yaml-cpp">yaml-cpp</a></li>
</ul>
<blockquote>
<div><ul>
<li><p class="first">osx one-liner: <code class="docutils literal"><span class="pre">brew</span> <span class="pre">install</span> <span class="pre">yaml-cpp</span></code>.</p>
</li>
<li><p class="first">centos one-liner: <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">yum</span> <span class="pre">install</span> <span class="pre">yaml-cpp-devel</span></code>.</p>
</li>
<li><p class="first">ubuntu two-liner:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">libboost</span><span class="o">-</span><span class="nb">all</span><span class="o">-</span><span class="n">dev</span>    <span class="c1"># overkill?</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">libyaml</span><span class="o">-</span><span class="n">cpp</span><span class="o">-</span><span class="n">dev</span>
</pre></div>
</div>
<p>Note: if only libyaml-cpp-dev is installed, then some necessary boost libraries will be missing.
Installing libboost-all-dev fixes this, but also installs around 200MB of software!  I didn’t
bother trying to figure out exactly which boost libraries were needed.</p>
</li>
</ul>
</div></blockquote>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="compiling-bitshuffle">
<h2>Compiling bitshuffle<a class="headerlink" href="#compiling-bitshuffle" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>You’ll need this if you want to read or write bitshuffle-compressed files with ch_frb_io
(note that CHIME pathfinder data is generally bitshuffle-compresed).</p>
<p>The following recipe worked for me:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>git clone https://github.com/kiyo-masui/bitshuffle.git
cd bitshuffle/

# The HDF5 library can dynamically load the bitshuffle plugin, i.e. you don&#39;t need
# to link the bitshuffle library when you compile ch_frb_io, but you need to set this
# environment variable to tell libhdf5 where to look.  Suggest adding this to .bashrc!

export HDF5_PLUGIN_PATH=$HOME/lib/hdf5_plugins

# If you have root privileges and want to install &quot;system-wide&quot;, omit the --user flag
# The --h5plugin* flags will build/install the plugin needed to use bitshuffle from C++

python setup.py install --user --h5plugin --h5plugin-dir=$HOME/lib/hdf5_plugins
</pre></div>
</div>
<p>If you run into trouble, you’ll want to refer to the installation instructions in the bitshuffle repo.</p>
</div></blockquote>
</div>
<div class="section" id="compiling-the-core-packages">
<h2>Compiling the core packages<a class="headerlink" href="#compiling-the-core-packages" title="Permalink to this headline">¶</a></h2>
<p>If you’re installing on <cite>frb1.physics.mcgill.ca</cite>, then you can disregard this section
and refer to <a class="reference internal" href="#quick-install-frb1">Quick install: frb1</a> below.</p>
<p>If you’re installing on a CHIME compute node (e.g. <cite>frb-compute-0.physics.mcgill.ca</cite>,
<cite>cf0g0.drao.nrc.ca</cite>), then you can disregard this section and refer to
<a class="reference internal" href="#quick-install-compute-node">Quick install: compute node</a> below.</p>
<p>If you’re using another machine (e.g. a laptop) then the installation process
is more involved.  You’ll probably need to write some “Makefile.local” files,
as described next.  We hope to streamline this process at some point!</p>
<p>These instructions apply to the following github repos (i.e. everything except bitshuffle):</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="https://github.com/kmsmith137/simd_helpers">kmsmith137/simd_helpers</a>:
header-only library for writing x86 assembly language kernels.</li>
<li><a class="reference external" href="https://github.com/kmsmith137/pyclops">kmsmith137/pyclops</a>:
some hacks for writing hybrid C++/python code.</li>
<li><a class="reference external" href="https://github.com/kmsmith137/rf_kernels">kmsmith137/rf_kernels</a>:
fast C++/assembly kernels for RFI removal and related tasks.</li>
<li><a class="reference external" href="https://github.com/kmsmith137/sp_hdf5">kmsmith137/sp_hdf5</a>:
header-only library for reading/writing hdf5 from C++.</li>
<li><a class="reference external" href="https://github.com/kmsmith137/simpulse">kmsmith137/simpulse</a>:
library for simulating FRB’s and pulsars.</li>
<li><a class="reference external" href="https://github.com/CHIMEFRB/ch_frb_io">CHIMEFRB/ch_frb_io</a>:
networking code, CHIME-specific file formats.</li>
<li><a class="reference external" href="https://github.com/CHIMEFRB/bonsai">CHIMEFRB/bonsai</a>:
fast tree dedispersion on x86.</li>
<li><a class="reference external" href="https://github.com/kmsmith137/rf_pipelines">kmsmith137/rf_pipelines</a>:
plugin-based radio astronomy pipelines.
(Note: this repo now includes the web viewer code which was previously
in <a class="reference external" href="https://github.com/mburhanpurkar/web_viewer">mburhanpurkar/web_viewer</a>.)</li>
<li><a class="reference external" href="https://github.com/mrafieir/ch_frb_rfi">mrafieir/ch_frb_rfi</a>:
scritping framework for RFI removal and offline L1 analysis.  <cite>(frb1 only)</cite></li>
<li><a class="reference external" href="https://github.com/kmsmith137/ch_frb_l1">kmsmith137/ch_frb_l1</a>:
toplevel repo, whose documentation you’re reading right now.</li>
</ul>
</div></blockquote>
<p>They use a klunky build procedure which we should improve some day!
Roughly, it works like this.  For each package, in the order above,
you’ll need to do the following:</p>
<blockquote>
<div><ul>
<li><p class="first">Create a file <code class="docutils literal"><span class="pre">Makefile.local</span></code> in the toplevel directory which defines
a bunch of machine-dependent variables, such as compiler flags, install directories,
and boolean flags indicating which optional dependencies are available.</p>
<p>The variables which need to be defined are slightly different for each of the
packages above, and are listed in the Makefile.  However, it’s easiest to
start with one of the template Makefile.locals in the <code class="docutils literal"><span class="pre">site/</span></code> subdirectory of
the toplevel directory, and either modify it, or just copy/symlink it to the
toplevel directory if it doesn’t need modification.</p>
</li>
<li><p class="first">Type <code class="docutils literal"><span class="pre">make</span> <span class="pre">all</span> <span class="pre">install</span></code></p>
</li>
<li><p class="first">Some of these packages have unit tests which you may want to run; see the
per-package README file for details.</p>
</li>
</ul>
</div></blockquote>
<p>Some more notes on writing Makefile.local files:</p>
<blockquote>
<div><ul>
<li><p class="first">The bonsai package has an optional dependency on libpng which you’ll want to enable for CHIMEFRB.
Therefore, your Makefile.local should contain the line:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">HAVE_PNG</span><span class="o">=</span><span class="n">y</span>
</pre></div>
</div>
</li>
<li><p class="first">The rf_pipelines package has the following optional dependencies which you’ll want to enable:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">HAVE_BONSAI</span><span class="o">=</span><span class="n">y</span>
<span class="n">HAVE_CH_FRB_IO</span><span class="o">=</span><span class="n">y</span>
<span class="n">HAVE_SIMPULSE</span><span class="o">=</span><span class="n">y</span>
<span class="n">HAVE_HDF5</span><span class="o">=</span><span class="n">y</span>
<span class="n">HAVE_PNG</span><span class="o">=</span><span class="n">y</span>
</pre></div>
</div>
<p>(There is also an optional dependency on psrfits which isn’t important for CHIMEFRB.)</p>
</li>
<li><p class="first">Some of the packages need to include header files from your python installation.
This is the case if the example Makefile.locals contain lines like these:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span># This directory should contain e.g. Python.h
PYTHON_INCDIR=/usr/include/python2.7

# This directory should contain e.g. numpy/arrayobject.h
NUMPY_INCDIR=/usr/lib64/python2.7/site-packages/numpy/core/include

CPP=g++ -I$(PYTHON_INCDIR) -I$(NUMPY_INCDIR) ...
</pre></div>
</div>
<p>It’s important that these directories correspond to the versions of python/numpy
that you’re actually using!  (There may some confusion if more than one python interpreter
is installed on your machine.)  The safest thing to do is to determine these directions
from within the python interpreter itself, as follows:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">distutils.sysconfig</span>
<span class="nb">print</span> <span class="n">distutils</span><span class="o">.</span><span class="n">sysconfig</span><span class="o">.</span><span class="n">get_python_inc</span><span class="p">()</span>   <span class="c1"># prints PYTHON_INCDIR</span>

<span class="kn">import</span> <span class="nn">numpy</span>
<span class="nb">print</span> <span class="n">numpy</span><span class="o">.</span><span class="n">get_include</span><span class="p">()</span>    <span class="c1"># prints NUMPY_INCDIR</span>
</pre></div>
</div>
</li>
<li><p class="first">Each package also defines some installation directories, e.g. Makefile.local will contain something like this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span># Directory where executables will be installed
BINDIR=$(HOME)/bin

# Directory where C++ libraries will be installed
LIBDIR=$(HOME)/lib

# Directory where C++ header files will be installed
INCDIR=$(HOME)/include

# Directory where python and cython modules will be installed
PYDIR=$(HOME)/lib/python2.7/site-packages
</pre></div>
</div>
<p>You’ll want to make sure that your PATH, PYTHONPATH, and LD_LIBRARY_PATH environment variables
contain the BINDIR, PYDIR, and LIBDIR directories from the Makefile.local.  For example, given the
Makefile.local above, your <code class="docutils literal"><span class="pre">$HOME/.bashrc</span></code> should contain something like this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>export PATH=$HOME/bin:$PATH
export PYTHONPATH=$HOME/lib/python2.7/site-packages:$PYTHONPATH
export LD_LIBRARY_PATH=$HOME/lib:$LD_LIBRARY_PATH
</pre></div>
</div>
<p>(Note: on osx, you should use DYLD_LIBRARY_PATH environment variable instead of LD_LIBRARY_PATH.)</p>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="quick-install-frb-analysis">
<h2>Quick install: frb-analysis<a class="headerlink" href="#quick-install-frb-analysis" title="Permalink to this headline">¶</a></h2>
<p>Here are instructions for building the L1 pipeline from scratch on frb-analysis
(the CHIMEFRB compute node at DRAO).</p>
<p>Building on this machine is nontrivial!  There is a global conda environment
which “shadows” the CentOS default packages, but does not work with the L1 pipeline.
You can disable the conda environment by adding code early in your .bashrc which
restores the PATH and PYTHONPATH variables to their CentOS defaults (followed by
“standard” code which configures environment variables for the L1 pipeline).</p>
<p>I suggest adding the following lines to your .bashrc:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span># Restore CentOS defaults (undoing anaconda and astrosoft configuration on frb-analysis)
export PATH=/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin
export PYTHONPATH=

# Environment modifications expected by pip and easy_install
export PATH=$HOME/.local/bin:$PATH

# Environment modifications expected by L1 pipeline
export PATH=$HOME/bin:$PATH
export LD_LIBRARY_PATH=$HOME/lib:$LD_LIBRARY_PATH
export PYTHONPATH=$HOME/lib/python2.7/site-packages:$PYTHONPATH
</pre></div>
</div>
<p>Next you’ll need to install (in your user directory, not globally!) up-to-date versions of
some python packages which are not installed on frb-analysis:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">easy_install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="o">--</span><span class="n">user</span> <span class="n">pip</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="o">--</span><span class="n">user</span> <span class="n">numpy</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="o">--</span><span class="n">user</span> <span class="n">scipy</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="o">--</span><span class="n">user</span> <span class="n">matplotlib</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="o">--</span><span class="n">user</span> <span class="n">Pillow</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="o">--</span><span class="n">user</span> <span class="n">h5py</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="o">--</span><span class="n">user</span> <span class="n">Cython</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="o">--</span><span class="n">user</span> <span class="n">zmq</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="o">--</span><span class="n">user</span> <span class="n">msgpack</span><span class="o">-</span><span class="n">python</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="o">--</span><span class="n">user</span> <span class="n">pyyaml</span>
</pre></div>
</div>
<p>Next you’ll need to install an <strong>out-of-date</strong> version of the HDF5 library!  The L1 pipeline
doesn’t work with recent versions of HDF5.  This is getting to be a big nuisance issue, and
and I hope to fix it soon!  In the meantime you’ll need to download an old version of HDF5
(I recommend 1.8.20) and install it in your user directory as follows:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>cd ~
wget https://support.hdfgroup.org/ftp/HDF5/releases/hdf5-1.8/hdf5-1.8.20/src/hdf5-1.8.20.tar.gz
tar zxvf hdf5-1.8.20.tar.gz
cd hdf5-1.8.20/
./configure --enable-cxx --prefix=$HOME
make -j 20
make install
</pre></div>
</div>
<p><strong>Note:</strong> the site/Makefile.local.frb-analysis files in the L1 git repositories assume
that you’re using the CentOS system python (<code class="docutils literal"><span class="pre">/usr/bin/python</span></code>), and a numpy instance
which has been installed (by pip install –user) in <code class="docutils literal"><span class="pre">$HOME/.local</span></code>.  This will be
the case if you’ve followed the instructions below, otherwise you’ll need to modify the
Makefile.local files.</p>
<p><strong>Note 2:</strong> bitshuffle is temporarily omitted from the instructions below, I’ll fix
this at some point (this should be OK since we’ve basically phased out bitshuffle-compressed
HDF5 files from the L1 pipeline).</p>
<p>Now you should be able to check out the pipeline modules and build them as follows:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">kmsmith137</span><span class="o">/</span><span class="n">simd_helpers</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">kmsmith137</span><span class="o">/</span><span class="n">pyclops</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">kmsmith137</span><span class="o">/</span><span class="n">rf_kernels</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">kmsmith137</span><span class="o">/</span><span class="n">sp_hdf5</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">kmsmith137</span><span class="o">/</span><span class="n">simpulse</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">CHIMEFRB</span><span class="o">/</span><span class="n">ch_frb_io</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">CHIMEFRB</span><span class="o">/</span><span class="n">bonsai</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">kmsmith137</span><span class="o">/</span><span class="n">rf_pipelines</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">mrafieir</span><span class="o">/</span><span class="n">ch_frb_rfi</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">kmsmith137</span><span class="o">/</span><span class="n">ch_frb_l1</span>

<span class="n">cd</span> <span class="n">simd_helpers</span>
<span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="n">site</span><span class="o">/</span><span class="n">Makefile</span><span class="o">.</span><span class="n">local</span><span class="o">.</span><span class="n">norootprivs</span> <span class="n">Makefile</span><span class="o">.</span><span class="n">local</span>
<span class="n">make</span> <span class="o">-</span><span class="n">j4</span> <span class="n">install</span>
<span class="n">cd</span> <span class="o">..</span>

<span class="n">cd</span> <span class="n">pyclops</span>
<span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="n">site</span><span class="o">/</span><span class="n">Makefile</span><span class="o">.</span><span class="n">local</span><span class="o">.</span><span class="n">frb</span><span class="o">-</span><span class="n">analysis</span> <span class="n">Makefile</span><span class="o">.</span><span class="n">local</span>
<span class="n">make</span> <span class="o">-</span><span class="n">j4</span> <span class="nb">all</span> <span class="n">install</span>
<span class="n">cd</span> <span class="o">..</span>

<span class="n">cd</span> <span class="n">rf_kernels</span>
<span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="n">site</span><span class="o">/</span><span class="n">Makefile</span><span class="o">.</span><span class="n">local</span><span class="o">.</span><span class="n">frb</span><span class="o">-</span><span class="n">analysis</span> <span class="n">Makefile</span><span class="o">.</span><span class="n">local</span>
<span class="n">make</span> <span class="o">-</span><span class="n">j4</span> <span class="nb">all</span> <span class="n">install</span>
<span class="n">cd</span> <span class="o">..</span>

<span class="n">cd</span> <span class="n">sp_hdf5</span>
<span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="n">site</span><span class="o">/</span><span class="n">Makefile</span><span class="o">.</span><span class="n">local</span><span class="o">.</span><span class="n">linux</span> <span class="n">Makefile</span><span class="o">.</span><span class="n">local</span>
<span class="n">make</span> <span class="o">-</span><span class="n">j4</span> <span class="nb">all</span> <span class="n">install</span>
<span class="n">cd</span> <span class="o">..</span>

<span class="n">cd</span> <span class="n">simpulse</span>
<span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="n">site</span><span class="o">/</span><span class="n">Makefile</span><span class="o">.</span><span class="n">local</span><span class="o">.</span><span class="n">frb</span><span class="o">-</span><span class="n">analysis</span> <span class="n">Makefile</span><span class="o">.</span><span class="n">local</span>
<span class="n">make</span> <span class="o">-</span><span class="n">j4</span> <span class="nb">all</span> <span class="n">install</span>
<span class="n">cd</span> <span class="o">..</span>

<span class="n">cd</span> <span class="n">ch_frb_io</span>
<span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="n">site</span><span class="o">/</span><span class="n">Makefile</span><span class="o">.</span><span class="n">local</span><span class="o">.</span><span class="n">frb</span><span class="o">-</span><span class="n">analysis</span> <span class="n">Makefile</span><span class="o">.</span><span class="n">local</span>
<span class="n">make</span> <span class="o">-</span><span class="n">j4</span> <span class="nb">all</span> <span class="n">install</span>
<span class="n">cd</span> <span class="o">..</span>

<span class="n">cd</span> <span class="n">bonsai</span>
<span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="n">site</span><span class="o">/</span><span class="n">Makefile</span><span class="o">.</span><span class="n">local</span><span class="o">.</span><span class="n">frb</span><span class="o">-</span><span class="n">analysis</span> <span class="n">Makefile</span><span class="o">.</span><span class="n">local</span>
<span class="n">make</span> <span class="o">-</span><span class="n">j4</span> <span class="nb">all</span> <span class="n">install</span>
<span class="n">cd</span> <span class="o">..</span>

<span class="n">cd</span> <span class="n">rf_pipelines</span>
<span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="n">site</span><span class="o">/</span><span class="n">Makefile</span><span class="o">.</span><span class="n">local</span><span class="o">.</span><span class="n">frb</span><span class="o">-</span><span class="n">analysis</span> <span class="n">Makefile</span><span class="o">.</span><span class="n">local</span>
<span class="n">make</span> <span class="o">-</span><span class="n">j4</span> <span class="nb">all</span> <span class="n">install</span>
<span class="n">cd</span> <span class="o">..</span>

<span class="n">cd</span> <span class="n">ch_frb_rfi</span>
<span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="n">site</span><span class="o">/</span><span class="n">Makefile</span><span class="o">.</span><span class="n">local</span><span class="o">.</span><span class="n">frb</span><span class="o">-</span><span class="n">analysis</span> <span class="n">Makefile</span><span class="o">.</span><span class="n">local</span>
<span class="n">make</span> <span class="o">-</span><span class="n">j4</span> <span class="n">install</span>
<span class="n">cd</span> <span class="o">..</span>

<span class="n">cd</span> <span class="n">ch_frb_l1</span>
<span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="n">site</span><span class="o">/</span><span class="n">Makefile</span><span class="o">.</span><span class="n">local</span><span class="o">.</span><span class="n">frb</span><span class="o">-</span><span class="n">analysis</span> <span class="n">Makefile</span><span class="o">.</span><span class="n">local</span>
<span class="n">make</span> <span class="o">-</span><span class="n">j4</span> <span class="nb">all</span>
<span class="n">cd</span> <span class="o">..</span>
</pre></div>
</div>
</div>
<div class="section" id="quick-install-frb1">
<h2>Quick install: frb1<a class="headerlink" href="#quick-install-frb1" title="Permalink to this headline">¶</a></h2>
<p>Here are instructions for building the L1 pipeline from scratch on frb1.physics.mcgill.ca.
All external dependencies should already be installed.</p>
<p>Directories and environment variables:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span># Binaries, header files, libraries, and python modules will be installed in these directories.
mkdir -p ~/bin
mkdir -p ~/include
mkdir -p ~/lib
mkdir -p ~/lib/python2.7/site-packages

# Bitshuffle will be installed here.
mkdir -p ~/lib/hdf5_plugins

# I strongly recommend adding these lines to your ~/.bashrc!
# Note that &#39;.&#39; is added to LD_LIBRARY_PATH (the unit testing logic in most of
# the pipeline modules currently assumes this)

export LD_LIBRARY_PATH=.:$HOME/lib:/usr/local/lib:$LD_LIBRARY_PATH
export PYTHONPATH=$HOME/lib/python2.7/site-packages:$PYTHONPATH
export HDF5_PLUGIN_PATH=$HOME/lib/hdf5_plugins
</pre></div>
</div>
<p>Checking out the pipeline modules:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">kiyo</span><span class="o">-</span><span class="n">masui</span><span class="o">/</span><span class="n">bitshuffle</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">kmsmith137</span><span class="o">/</span><span class="n">simd_helpers</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">kmsmith137</span><span class="o">/</span><span class="n">pyclops</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">kmsmith137</span><span class="o">/</span><span class="n">rf_kernels</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">kmsmith137</span><span class="o">/</span><span class="n">sp_hdf5</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">kmsmith137</span><span class="o">/</span><span class="n">simpulse</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">CHIMEFRB</span><span class="o">/</span><span class="n">ch_frb_io</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">CHIMEFRB</span><span class="o">/</span><span class="n">bonsai</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">kmsmith137</span><span class="o">/</span><span class="n">rf_pipelines</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">mrafieir</span><span class="o">/</span><span class="n">ch_frb_rfi</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">kmsmith137</span><span class="o">/</span><span class="n">ch_frb_l1</span>
</pre></div>
</div>
<p>Compilation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>cd bitshuffle
python setup.py install --user --h5plugin --h5plugin-dir=$HOME/lib/hdf5_plugins
cd ..

cd simd_helpers
ln -s site/Makefile.local.norootprivs Makefile.local
make -j4 install
cd ..

cd pyclops
ln -s site/Makefile.local.frb1 Makefile.local
make -j4 all install
cd ..

cd rf_kernels
ln -s site/Makefile.local.frb1 Makefile.local
make -j4 all install
cd ..

cd sp_hdf5
ln -s site/Makefile.local.linux Makefile.local
make -j4 all install
cd ..

cd simpulse
ln -s site/Makefile.local.frb1 Makefile.local
make -j4 all install
cd ..

cd ch_frb_io
ln -s site/Makefile.local.frb1 Makefile.local
make -j4 all install
cd ..

cd bonsai
ln -s site/Makefile.local.frb1 Makefile.local
make -j4 all install
cd ..

cd rf_pipelines
ln -s site/Makefile.local.frb1 Makefile.local
make -j4 all install
cd ..

cd ch_frb_rfi
ln -s site/Makefile.local.frb1 Makefile.local
make -j4 install
cd ..

cd ch_frb_l1
ln -s site/Makefile.local.frb1 Makefile.local
make -j4 all
cd ..
</pre></div>
</div>
</div>
<div class="section" id="quick-install-compute-node">
<h2>Quick install: compute node<a class="headerlink" href="#quick-install-compute-node" title="Permalink to this headline">¶</a></h2>
<p>Here are instructions for building the L1 pipeline from scratch on the frb-compute-X nodes.
All external dependencies should already be installed.</p>
<p>Note that we don’t build the <cite>ch_frb_rfi</cite> module here, since this module includes hardcoded
pathnames on <cite>frb1.physics.mcgill.ca</cite>.</p>
<p>Directories and environment variables:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span># Binaries, header files, libraries, and python modules will be installed in these directories.
mkdir -p ~/bin
mkdir -p ~/include
mkdir -p ~/lib
mkdir -p ~/lib/python2.7/site-packages

# Bitshuffle will be installed here.
mkdir -p ~/lib/hdf5_plugins

# I strongly recommend adding these lines to your ~/.bashrc!
# Note that &#39;.&#39; is added to LD_LIBRARY_PATH (the unit testing logic in most of
# the pipeline modules currently assumes this)

export LD_LIBRARY_PATH=.:$HOME/lib:/usr/local/lib:$LD_LIBRARY_PATH
export PYTHONPATH=$HOME/lib/python2.7/site-packages:$PYTHONPATH
export HDF5_PLUGIN_PATH=$HOME/lib/hdf5_plugins
</pre></div>
</div>
<p>Checking out the pipeline modules:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">kiyo</span><span class="o">-</span><span class="n">masui</span><span class="o">/</span><span class="n">bitshuffle</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">kmsmith137</span><span class="o">/</span><span class="n">simd_helpers</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">kmsmith137</span><span class="o">/</span><span class="n">pyclops</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">kmsmith137</span><span class="o">/</span><span class="n">rf_kernels</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">kmsmith137</span><span class="o">/</span><span class="n">sp_hdf5</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">kmsmith137</span><span class="o">/</span><span class="n">simpulse</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">CHIMEFRB</span><span class="o">/</span><span class="n">ch_frb_io</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">CHIMEFRB</span><span class="o">/</span><span class="n">bonsai</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">kmsmith137</span><span class="o">/</span><span class="n">rf_pipelines</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">kmsmith137</span><span class="o">/</span><span class="n">ch_frb_l1</span>
</pre></div>
</div>
<p>Compilation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>cd bitshuffle
python setup.py install --user --h5plugin --h5plugin-dir=$HOME/lib/hdf5_plugins
cd ..

cd simd_helpers
ln -s site/Makefile.local.norootprivs Makefile.local
make -j20 install
cd ..

cd pyclops
ln -s site/Makefile.local.frb-compute-0 Makefile.local
make -j20 all install
cd ..

cd rf_kernels
ln -s site/Makefile.local.frb-compute-0 Makefile.local
make -j20 all install
cd ..

cd sp_hdf5
ln -s site/Makefile.local.linux Makefile.local
make -j20 all install
cd ..

cd simpulse
ln -s site/Makefile.local.frb-compute-0 Makefile.local
make -j20 all install
cd ..

cd ch_frb_io
ln -s site/Makefile.local.frb-compute-0 Makefile.local
make -j20 all install
cd ..

cd bonsai
ln -s site/Makefile.local.frb-compute-0 Makefile.local
make -j20 all install
cd ..

cd rf_pipelines
ln -s site/Makefile.local.frb-compute-0 Makefile.local
make -j20 all install
cd ..

cd ch_frb_l1
ln -s site/Makefile.local.frb-compute-0 Makefile.local
make -j20 all
cd ..
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="help_my_pipeline_is_broken.html" class="btn btn-neutral float-right" title="Help! My pipeline is broken" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="CHIMEFRB L1 pipeline" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>